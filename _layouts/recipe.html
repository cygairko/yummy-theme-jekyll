---
layout: base
---

<main class="page-content" aria-label="Content">
    <article class="recipe-layout-container">

        <header class="recipe-header">
            <h1 class="recipe-title">{{ page.title | escape }}</h1>
            <div class="recipe-intro">
                {{ page.excerpt }}
            </div>

            <div class="recipe-metadata">
                {% if page.prep_time %}
                <div class="meta-item">
                    {% include recipe-icon.html icon="time" %}
                    <span>Prep: {{ page.prep_time }}</span>
                </div>
                {% endif %}
                {% if page.cook_time %}
                <div class="meta-item">
                    {% include recipe-icon.html icon="cook" %}
                    <span>Cook: {{ page.cook_time }}</span>
                </div>
                {% endif %}
                    {% if page.total_time_iso %}
                    <!-- You might want a logic for total time display or just use calculated sum if available -->
                {% endif %}
                {% if page.yield %}
                <div class="meta-item">
                    {% include recipe-icon.html icon="quantity" %}
                    <span>Yields: {{ page.yield }}</span>
                </div>
                {% endif %}
            </div>

            <div class="recipe-content">
                <div class="recipe-left-column">
                    {% if page.image %}
                    <div class="recipe-image-container">
                        <img src="{{ page.image | relative_url }}" alt="{{ page.title }}">
                    </div>
                    {% endif %}

                    <!-- Ingredients Section (Left) -->
                    <section class="recipe-ingredients">
                        <h3>What You Need</h3>
                        
                        {% for part in page.ingredients_parts %}
                        <div class="ingredient-group">
                            {% if part.name %}<h4>{{ part.name }}</h4>{% endif %}
                            <ul class="ingredient-list">
                                {% for ingredient in part.ingredients %}
                                <li class="ingredient-item js-ingredient-item">
                                    <div class="check-circle"></div>
                                    <span class="ingredient-text">
                                        {% if ingredient.amount %}
                                            <strong>{{ ingredient.amount }}</strong>
                                        {% endif %}
                                        {{ ingredient.unit }} {{ ingredient.item }}
                                    </span>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endfor %}
                    </section>
                </div>

                <!-- Instructions Section (Right) -->
                <section class="recipe-instructions">
                     <h3>The Method</h3>
                     <ol class="instruction-list">
                        {% for step in page.instructions %}
                        <li class="instruction-step">
                            {{ step | replace: 'oven to', '<span class="temp-highlight">oven to</span>' }} 
                            <!-- Basic replacement for now, complex parsing for temps would need JS or plugin -->
                        </li>
                        {% endfor %}
                     </ol>
                </section>
            </div>

        <div style="display:none;">
            <!-- Original content fallback or seo text if needed hidden -->
            {{ content }}
        </div>

    </article>
</main>

{% include footer.html %}

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const items = document.querySelectorAll('.js-ingredient-item');
        items.forEach(item => {
            item.addEventListener('click', function() {
                this.classList.toggle('checked');
            });
        });
    });
</script>

<!-- Schema.org JSON-LD -->
<script type="application/ld+json">
{
    "@context": "https://schema.org/",
    "@type": "Recipe",
    "name": "{{ page.title | escape }}",
    "image": [
    "{{ page.image | absolute_url }}"
    ],
    "author": {
    "@type": "Person",
    "name": "{{ site.title | escape }}"
    },
    "datePublished": "{{ page.date | date_to_xmlschema }}",
    "description": "{{ page.excerpt | strip_html | strip_newlines | escape }}",
    "prepTime": "{{ page.prep_time_iso }}",
    "cookTime": "{{ page.cook_time_iso }}",
    "totalTime": "{{ page.total_time_iso }}",
    "recipeYield": "{{ page.yield }}",
    "recipeIngredient": [
    {% for part in page.ingredients_parts %}
        {% for ingredient in part.ingredients %}
        "{{ ingredient.amount }} {{ ingredient.unit }} {{ ingredient.item }}"{% unless forloop.last and forloop.parentloop.last %},{% endunless %}
        {% endfor %}
    {% endfor %}
    ],
    "recipeInstructions": [
    {% for step in page.instructions %}
    {
        "@type": "HowToStep",
        "text": "{{ step | escape }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
    ]
}
</script>
